{% extends 'base.html' %}
{% block title %}–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è ‚Äî MySocial{% endblock %}

{% block body %}
<div class="app-container">

  <aside class="sidebar-left">
    <div class="sidebar-logo">MySocial</div>
    <a href="/" class="nav-item"><span class="nav-icon">üè†</span> –°—Ç—Ä—ñ—á–∫–∞</a>
    <a href="/search" class="nav-item"><span class="nav-icon">üîç</span> –ü–æ—à—É–∫</a>
    <a href="/notifications" class="nav-item active"><span class="nav-icon">üîî</span> –°–ø–æ–≤—ñ—â–µ–Ω–Ω—è</a>
    <a href="/profile/{{ session.username }}" class="nav-item"><span class="nav-icon">üë§</span> –ü—Ä–æ—Ñ—ñ–ª—å</a>
    <button class="sidebar-post-btn" onclick="openModal('modal-post')">+ –°—Ç–≤–æ—Ä–∏—Ç–∏ –ø–æ—Å—Ç</button>
    <a href="/profile/{{ session.username }}" class="sidebar-user">
      <div class="avatar avatar-sm" style="background:{{ session.get('accent','#6366f1') }}">{{ session.username[0].upper() }}</div>
      <div class="sidebar-user-info"><div class="sidebar-username">{{ session.username }}</div></div>
    </a>
  </aside>

  <main class="main-feed">

    <div class="top-bar">
      <a href="/" class="icon-btn">‚Üê</a>
      <div style="font-weight:700;">–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è</div>
      <div style="width:36px;"></div>
    </div>

    <div class="page-header" style="display:none;">
      <div class="page-header-title">–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è</div>
    </div>

    {% if not notifications %}
      <div class="empty-state">
        <div class="empty-icon">üîî</div>
        <div class="empty-text">–ù–µ–º–∞—î —Å–ø–æ–≤—ñ—â–µ–Ω—å</div>
        <div class="empty-sub">–ö–æ–ª–∏ —Ö—Ç–æ—Å—å –ø—ñ–¥–ø–∏—à–µ—Ç—å—Å—è –∞–±–æ –ª–∞–π–∫–Ω–µ ‚Äî –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ —Ç—É—Ç</div>
      </div>
    {% endif %}

    {% for notif in notifications %}
      <div class="notif-item {% if not notif.is_read %}unread{% endif %}">
        <a href="/profile/{{ notif.username }}">
          <div class="avatar avatar-sm" style="background:{{ notif.avatar_color }}">
            {{ notif.username[0].upper() }}
          </div>
        </a>
        <div class="notif-text">
          <a href="/profile/{{ notif.username }}" style="font-weight:700;">{{ notif.username }}</a>
          {% if notif.type == 'like' %}
            &nbsp;‚ù§Ô∏è –≤–ø–æ–¥–æ–±–∞–≤(-–ª–∞) –≤–∞—à –ø–æ—Å—Ç
          {% elif notif.type == 'comment' %}
            &nbsp;üí¨ –ø—Ä–æ–∫–æ–º–µ–Ω—Ç—É–≤–∞–≤(-–ª–∞) –≤–∞—à –ø–æ—Å—Ç
          {% elif notif.type == 'follow' %}
            &nbsp;üë§ –ø—ñ–¥–ø–∏—Å–∞–≤—Å—è(-–ª–∞—Å—å) –Ω–∞ –≤–∞—Å
          {% endif %}
          <div class="notif-time">{{ notif.created_at }}</div>
        </div>
      </div>
    {% endfor %}

  </main>

  <aside class="sidebar-right"></aside>
</div>

<nav class="bottom-nav">
  <a href="/" class="bottom-nav-item"><span class="bnav-icon">üè†</span><span>–°—Ç—Ä—ñ—á–∫–∞</span></a>
  <a href="/search" class="bottom-nav-item"><span class="bnav-icon">üîç</span><span>–ü–æ—à—É–∫</span></a>
  <div class="bottom-nav-post"><button class="bottom-nav-post-btn" onclick="openModal('modal-post')">Ôºã</button></div>
  <a href="/notifications" class="bottom-nav-item active"><span class="bnav-icon">üîî</span><span>–°–ø–æ–≤—ñ—â–µ–Ω–Ω—è</span></a>
  <a href="/profile/{{ session.username }}" class="bottom-nav-item"><span class="bnav-icon">üë§</span><span>–ü—Ä–æ—Ñ—ñ–ª—å</span></a>
</nav>
{% endblock %}